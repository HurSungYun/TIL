# Redshift and 컬럼형 DB

보통의 OLTP DB들은 row 단위로 저장을 하게 된다. 그 이유는 interest 한 부분이 그 row의 여러 column들에 분포해 있는 것이 보통이기 때문이다.

하지만 OLAP 에서는 row 단위로 저장하는 것이 비효율적일 수 있다.

가장 쉬운 예를 들어보자. 게임에서 현재 유저들의 다이아 보유 현황을 보고 싶다고 하자.

그렇다면 내가 필요한 컬럼은 user\_wallet.dia 이거 하나뿐이다.

그런데 row 별로 저장되어 있는 일반 DB를 이용하려면 user\_wallet 테이블에 있는 모든 청크를 가지고 와야 한다.

데이터가 적을 땐 별로 문제가 없으나, 데이터가 많을 땐 속도에 문제가 있을 수 있다.

그래서 데이터를 column들로 저장하는 것이다.

위의 예와 같은 상황에서 우리는 dia 컬럼이 저장된 청크만 읽어서 프로세싱하면 되므로 아주 효율적이다.

이처럼 OLAP 의 interest 에 맞는 구조는 column 형 데이터베이스이고 AWS Redshift 는 column 형 DB이다.

그리고 SQL문이 조금 달라서 짜증난다.
